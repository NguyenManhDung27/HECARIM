{% extends "base_dashboard.html" %}

{% block title %}B·∫£ng ƒëi·ªÅu khi·ªÉn B·ªánh nh√¢n{% endblock %}

{% block sidebar_menu %}
<li class="nav-item">
    <a href="/patient/dashboard" class="nav-link">
        T·ªïng quan
    </a>
</li>
<li class="nav-item">
    <a href="/patient/appointments" class="nav-link">
        L·ªãch h·∫πn kh√°m
    </a>
</li>
<li class="nav-item">
    <a href="/patient/medical-history" class="nav-link">
        L·ªãch s·ª≠ kh√°m b·ªánh
    </a>
</li>
<li class="nav-item">
    <a href="/patient/prescriptions" class="nav-link">
        ƒê∆°n thu·ªëc
    </a>
</li>
<li class="nav-item">
    <a href="/patient/profile" class="nav-link">
        Th√¥ng tin c√° nh√¢n
    </a>
</li>
{% endblock %}

{% block page_title %}T·ªïng quan{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">L·ªãch h·∫πn s·∫Øp t·ªõi</h2>
    </div>
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Ng√†y</th>
                    <th>Gi·ªù</th>
                    <th>B√°c sƒ©</th>
                    <th>Khoa</th>
                    <th>Tr·∫°ng th√°i</th>
                </tr>
            </thead>
            <tbody>
                {% for appointment in upcoming_appointments %}
                <tr>
                    <td>{{ appointment.date }}</td>
                    <td>{{ appointment.time }}</td>
                    <td>{{ appointment.doctor_name }}</td>
                    <td>{{ appointment.department }}</td>
                    <td>
                        <span class="badge badge-{{ appointment.status_class }}">
                            {{ appointment.status }}
                        </span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">ƒê∆°n thu·ªëc hi·ªán t·∫°i</h2>
    </div>
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Ng√†y k√™ ƒë∆°n</th>
                    <th>T√™n thu·ªëc</th>
                    <th>Li·ªÅu l∆∞·ª£ng</th>
                    <th>H∆∞·ªõng d·∫´n</th>
                    <th>Tr·∫°ng th√°i</th>
                </tr>
            </thead>
            <tbody>
                {% for prescription in current_prescriptions %}
                <tr>
                    <td>{{ prescription.date }}</td>
                    <td>{{ prescription.medication_name }}</td>
                    <td>{{ prescription.dosage }}</td>
                    <td>{{ prescription.instructions }}</td>
                    <td>
                        <span class="badge badge-{{ prescription.status_class }}">
                            {{ prescription.status }}
                        </span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Th√¥ng tin s·ª©c kh·ªèe</h2>
    </div>
    <div style="padding: 1rem;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div>
                <strong>Chi·ªÅu cao:</strong>
                <p>{{ health_info.height if health_info else 'Ch∆∞a c√≥ th√¥ng tin' }} cm</p>
            </div>
            <div>
                <strong>C√¢n n·∫∑ng:</strong>
                <p>{{ health_info.weight if health_info else 'Ch∆∞a c√≥ th√¥ng tin' }} kg</p>
            </div>
            <div>
                <strong>Nh√≥m m√°u:</strong>
                <p>BMI: {{ health_info.bmi if health_info else 'Ch∆∞a c√≥ th√¥ng tin' }}</p>
            </div>
            <div>
                <strong>D·ªã ·ª©ng:</strong>
                <p>{{ health_info.allergies|join(', ') if health_info and health_info.allergies else 'Kh√¥ng' }}</p>
            </div>
        </div> <!-- üîß th√™m d√≤ng n√†y -->
    </div> <!-- üîß th√™m d√≤ng n√†y -->
</div> <!-- üîß th√™m d√≤ng n√†y -->

{% endblock %}

{% block extra_scripts %}
<script>
    // Add any additional JavaScript for the patient dashboard here
</script>
{% endblock %}